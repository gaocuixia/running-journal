<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ë∑ëÊ≠•ÊÑüÊÇü | ÊàëÁöÑË∑ëÊ≠•Êó•ËÆ∞</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@300;400;500;700&family=Noto+Serif+SC:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/sql.js/1.10.3/sql-wasm.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
    <script>
        // ÈÖçÁΩÆSQL.js
        if (!initSqlJs) {
            throw new Error('SQL.jsÂ∫ìÂä†ËΩΩÂ§±Ë¥•');
        }
    </script>
</head>
<body>
    <div class="app-container">
        <!-- Â§¥ÈÉ® -->
        <header class="app-header">
            <div class="header-content">
                <h1 class="site-title">üèÉ‚Äç‚ôÇÔ∏è Ë∑ëÊ≠•ÊÑüÊÇü</h1>
                <p class="site-subtitle">ËÆ∞ÂΩïË∑ëÊ≠•Ë∑Ø‰∏äÁöÑÁÇπÁÇπÊª¥Êª¥</p>
            </div>
        </header>

        <main class="app-main">
            <div class="container">
                <!-- ÊéßÂà∂Âå∫Âüü -->
                <section class="controls-section">
                    <div class="controls-bar">
                        <div class="filter-group">
                            <select id="categoryFilter" class="filter-select">
                                <option value="all">ÊâÄÊúâÂàÜÁ±ª</option>
                                <option value="ËÆ≠ÁªÉÊó•Âøó">ËÆ≠ÁªÉÊó•Âøó</option>
                                <option value="ÊØîËµõÊÑüÊÇü">ÊØîËµõÊÑüÊÇü</option>
                                <option value="Ë£ÖÂ§áËØÑÊµã">Ë£ÖÂ§áËØÑÊµã</option>
                                <option value="Ë∑ëÊ≠•ÂøÉÂæó">Ë∑ëÊ≠•ÂøÉÂæó</option>
                            </select>
                            <button id="sortButton" class="sort-btn">
                                <span>ÊúÄÊñ∞ÂèëÂ∏É</span>
                                <span class="sort-icon">‚ñº</span>
                            </button>
                        </div>
                        <div class="import-export-group">
                            <input type="file" id="importFile" accept=".json" style="display: none;">
                            <input type="file" id="importEventExcelFile" accept=".xlsx" style="display: none;">
                            <button id="importBtn" class="primary-btn" onclick="document.getElementById('importFile').click()">
                                üìÇ ÂØºÂÖ•
                            </button>
                            <button id="importEventExcelBtn" class="primary-btn">
                                üìä ÂØºÂÖ•Ëµõ‰∫ãËÆ∞ÂΩïË°®
                            </button>
                            <button id="exportBtn" class="primary-btn" onclick="exportArticles()">
                                üíæ ÂØºÂá∫
                            </button>
                            <button id="addArticleBtn" class="primary-btn">
                                ‚úçÔ∏è ÂÜôÊÑüÊÇü
                            </button>
                        </div>
                    </div>
                </section>

                <!-- ÊñáÁ´†ÂàóË°® -->
                <section class="articles-section">
                    <div class="section-header">
                        <h2>Ë∑ëÊ≠•ÊÑüÊÇü</h2>
                    </div>
                    <div class="articles-grid" id="articlesGrid">
                        <!-- ÊñáÁ´†Âç°ÁâáÂ∞ÜÈÄöËøáJavaScriptÂä®ÊÄÅÁîüÊàê -->
                    </div>
                </section>

                <!-- Ëµõ‰∫ãËÆ∞ÂΩïÂàóË°® -->
                <section class="events-section">
                    <div class="section-header">
                        <h2>Ëµõ‰∫ãËÆ∞ÂΩï</h2>
                        <button id="addEventBtn" class="primary-btn">
                            ‚ûï Ê∑ªÂä†Ëµõ‰∫ã
                        </button>
                    </div>
                    <div class="events-grid" id="eventsGrid">
                        <!-- Ëµõ‰∫ãÂç°ÁâáÂ∞ÜÈÄöËøáJavaScriptÂä®ÊÄÅÁîüÊàê -->
                    </div>
                </section>

                <!-- Ê∑ªÂä†ÊñáÁ´†Ê®°ÊÄÅÊ°Ü -->
                <div id="addArticleModal" class="modal">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h2>ÂÜôË∑ëÊ≠•ÊÑüÊÇü</h2>
                            <span class="close-btn">&times;</span>
                        </div>
                        <form id="addArticleForm" class="article-form">
                            <div class="form-group">
                                <label for="articleTitle">Ê†áÈ¢ò</label>
                                <input type="text" id="articleTitle" name="articleTitle" placeholder="ËæìÂÖ•ÊñáÁ´†Ê†áÈ¢ò..." required>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="articleDate">Êó•Êúü</label>
                                    <input type="date" id="articleDate" name="articleDate" required>
                                </div>
                                <div class="form-group">
                                    <label for="articleCategory">ÂàÜÁ±ª</label>
                                    <select id="articleCategory" name="articleCategory">
                                        <option value="ËÆ≠ÁªÉÊó•Âøó">ËÆ≠ÁªÉÊó•Âøó</option>
                                        <option value="ÊØîËµõÊÑüÊÇü">ÊØîËµõÊÑüÊÇü</option>
                                        <option value="Ë£ÖÂ§áËØÑÊµã">Ë£ÖÂ§áËØÑÊµã</option>
                                        <option value="Ë∑ëÊ≠•ÂøÉÂæó">Ë∑ëÊ≠•ÂøÉÂæó</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="articleContent">ÂÜÖÂÆπ</label>
                                <textarea id="articleContent" name="articleContent" rows="12" placeholder="ÂàÜ‰∫´‰Ω†ÁöÑË∑ëÊ≠•ÊÑüÊÇü..." required></textarea>
                            </div>
                            <div class="form-actions">
                                <button type="button" class="cancel-btn">ÂèñÊ∂à</button>
                                <button type="submit" class="submit-btn">ÂèëÂ∏É</button>
                            </div>
                        </form>
                    </div>
                </div>

                <!-- ÁºñËæëÊñáÁ´†Ê®°ÊÄÅÊ°Ü -->
                <div id="editArticleModal" class="modal">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h2>ÁºñËæëË∑ëÊ≠•ÊÑüÊÇü</h2>
                            <span class="close-btn">&times;</span>
                        </div>
                        <form id="editArticleForm" class="article-form">
                            <input type="hidden" id="editArticleId" name="editArticleId">
                            <div class="form-group">
                                <label for="editArticleTitle">Ê†áÈ¢ò</label>
                                <input type="text" id="editArticleTitle" name="editArticleTitle" placeholder="ËæìÂÖ•ÊñáÁ´†Ê†áÈ¢ò..." required>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="editArticleDate">Êó•Êúü</label>
                                    <input type="date" id="editArticleDate" name="editArticleDate" required>
                                </div>
                                <div class="form-group">
                                    <label for="editArticleCategory">ÂàÜÁ±ª</label>
                                    <select id="editArticleCategory" name="editArticleCategory">
                                        <option value="ËÆ≠ÁªÉÊó•Âøó">ËÆ≠ÁªÉÊó•Âøó</option>
                                        <option value="ÊØîËµõÊÑüÊÇü">ÊØîËµõÊÑüÊÇü</option>
                                        <option value="Ë£ÖÂ§áËØÑÊµã">Ë£ÖÂ§áËØÑÊµã</option>
                                        <option value="Ë∑ëÊ≠•ÂøÉÂæó">Ë∑ëÊ≠•ÂøÉÂæó</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="editArticleContent">ÂÜÖÂÆπ</label>
                                <textarea id="editArticleContent" name="editArticleContent" rows="12" placeholder="ÂàÜ‰∫´‰Ω†ÁöÑË∑ëÊ≠•ÊÑüÊÇü..." required></textarea>
                            </div>
                            <div class="form-actions">
                                <button type="button" class="cancel-btn">ÂèñÊ∂à</button>
                                <button type="submit" class="submit-btn">‰øùÂ≠ò‰øÆÊîπ</button>
                            </div>
                        </form>
                    </div>
                </div>

                <!-- ÊñáÁ´†ËØ¶ÊÉÖÊ®°ÊÄÅÊ°Ü -->
                <div id="articleDetailModal" class="modal">
                    <div class="modal-content large">
                        <div class="modal-header">
                            <h2 id="detailTitle"></h2>
                            <span class="close-btn">&times;</span>
                        </div>
                        <div class="article-detail" id="articleDetail">
                            <!-- ÊñáÁ´†ËØ¶ÊÉÖÂ∞ÜÈÄöËøáJavaScriptÂä®ÊÄÅÁîüÊàê -->
                        </div>
                    </div>
                </div>

                <!-- Ê∑ªÂä†Ëµõ‰∫ãÊ®°ÊÄÅÊ°Ü -->
                <div id="addEventModal" class="modal">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h2>Ê∑ªÂä†Ëµõ‰∫ãËÆ∞ÂΩï</h2>
                            <span class="close-btn">&times;</span>
                        </div>
                        <form id="addEventForm" class="event-form">
                            <div class="form-group">
                                <label for="eventName">Ëµõ‰∫ãÂêçÁß∞</label>
                                <input type="text" id="eventName" name="eventName" placeholder="ËæìÂÖ•Ëµõ‰∫ãÂêçÁß∞..." required>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="eventDate">Êó•Êúü</label>
                                    <input type="date" id="eventDate" name="eventDate" required>
                                </div>
                                <div class="form-group">
                                    <label for="eventDistance">Ë∑ùÁ¶ª (ÂÖ¨Èáå)</label>
                                    <input type="number" id="eventDistance" name="eventDistance" step="0.001" placeholder="ËæìÂÖ•Ë∑ùÁ¶ª..." required>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="eventLocation">Âú∞ÁÇπ</label>
                                <input type="text" id="eventLocation" name="eventLocation" placeholder="ËæìÂÖ•Ëµõ‰∫ãÂú∞ÁÇπ..." required>
                            </div>
                            <div class="form-group">
                                <label for="eventFinishTime">ÂÆåÊàêÊó∂Èó¥</label>
                                <input type="text" id="eventFinishTime" name="eventFinishTime" placeholder="Ê†ºÂºèÔºöHH:MM:SS" required>
                            </div>
                            <div class="form-group">
                                <label for="eventCategory">Ëµõ‰∫ãÁ±ªÂûã</label>
                                <select id="eventCategory" name="eventCategory">
                                    <option value="ÂÖ®Á®ãÈ©¨ÊãâÊùæ">ÂÖ®Á®ãÈ©¨ÊãâÊùæ</option>
                                    <option value="ÂçäÁ®ãÈ©¨ÊãâÊùæ">ÂçäÁ®ãÈ©¨ÊãâÊùæ</option>
                                    <option value="10ÂÖ¨Èáå">10ÂÖ¨Èáå</option>
                                    <option value="5ÂÖ¨Èáå">5ÂÖ¨Èáå</option>
                                    <option value="Ë∂äÈáéË∑ë">Ë∂äÈáéË∑ë</option>
                                    <option value="ÂÖ∂‰ªñ">ÂÖ∂‰ªñ</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="eventNotes">Â§áÊ≥®</label>
                                <textarea id="eventNotes" name="eventNotes" rows="4" placeholder="ËæìÂÖ•Ëµõ‰∫ãÂ§áÊ≥®..."></textarea>
                            </div>
                            <div class="form-actions">
                                <button type="button" class="cancel-btn">ÂèñÊ∂à</button>
                                <button type="submit" class="submit-btn">‰øùÂ≠ò</button>
                            </div>
                        </form>
                    </div>
                </div>

                <!-- ÁºñËæëËµõ‰∫ãÊ®°ÊÄÅÊ°Ü -->
                <div id="editEventModal" class="modal">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h2>ÁºñËæëËµõ‰∫ãËÆ∞ÂΩï</h2>
                            <span class="close-btn">&times;</span>
                        </div>
                        <form id="editEventForm" class="event-form">
                            <input type="hidden" id="editEventId" name="editEventId">
                            <div class="form-group">
                                <label for="editEventName">Ëµõ‰∫ãÂêçÁß∞</label>
                                <input type="text" id="editEventName" name="editEventName" placeholder="ËæìÂÖ•Ëµõ‰∫ãÂêçÁß∞..." required>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="editEventDate">Êó•Êúü</label>
                                    <input type="date" id="editEventDate" name="editEventDate" required>
                                </div>
                                <div class="form-group">
                                    <label for="editEventDistance">Ë∑ùÁ¶ª (ÂÖ¨Èáå)</label>
                                    <input type="number" id="editEventDistance" name="editEventDistance" step="0.001" placeholder="ËæìÂÖ•Ë∑ùÁ¶ª..." required>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="editEventLocation">Âú∞ÁÇπ</label>
                                <input type="text" id="editEventLocation" name="editEventLocation" placeholder="ËæìÂÖ•Ëµõ‰∫ãÂú∞ÁÇπ..." required>
                            </div>
                            <div class="form-group">
                                <label for="editEventFinishTime">ÂÆåÊàêÊó∂Èó¥</label>
                                <input type="text" id="editEventFinishTime" name="editEventFinishTime" placeholder="Ê†ºÂºèÔºöHH:MM:SS" required>
                            </div>
                            <div class="form-group">
                                <label for="editEventCategory">Ëµõ‰∫ãÁ±ªÂûã</label>
                                <select id="editEventCategory" name="editEventCategory">
                                    <option value="ÂÖ®Á®ãÈ©¨ÊãâÊùæ">ÂÖ®Á®ãÈ©¨ÊãâÊùæ</option>
                                    <option value="ÂçäÁ®ãÈ©¨ÊãâÊùæ">ÂçäÁ®ãÈ©¨ÊãâÊùæ</option>
                                    <option value="10ÂÖ¨Èáå">10ÂÖ¨Èáå</option>
                                    <option value="5ÂÖ¨Èáå">5ÂÖ¨Èáå</option>
                                    <option value="Ë∂äÈáéË∑ë">Ë∂äÈáéË∑ë</option>
                                    <option value="ÂÖ∂‰ªñ">ÂÖ∂‰ªñ</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="editEventNotes">Â§áÊ≥®</label>
                                <textarea id="editEventNotes" name="editEventNotes" rows="4" placeholder="ËæìÂÖ•Ëµõ‰∫ãÂ§áÊ≥®..."></textarea>
                            </div>
                            <div class="form-actions">
                                <button type="button" class="cancel-btn">ÂèñÊ∂à</button>
                                <button type="submit" class="submit-btn">‰øùÂ≠ò‰øÆÊîπ</button>
                            </div>
                        </form>
                    </div>
                </div>

                <!-- Ëµõ‰∫ãËØ¶ÊÉÖÊ®°ÊÄÅÊ°Ü -->
                <div id="eventDetailModal" class="modal">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h2 id="eventDetailTitle"></h2>
                            <span class="close-btn">&times;</span>
                        </div>
                        <div class="event-detail" id="eventDetail">
                            <!-- Ëµõ‰∫ãËØ¶ÊÉÖÂ∞ÜÈÄöËøáJavaScriptÂä®ÊÄÅÁîüÊàê -->
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <!-- È°µËÑö -->
        <footer class="app-footer">
            <div class="footer-content">
                <p>&copy; 2025 Ë∑ëÊ≠•ÊÑüÊÇü | ËÆ∞ÂΩïÊØè‰∏ÄÊ≠•ÁöÑÊÄùËÄÉ</p>
            </div>
        </footer>
    </div>

    <script src="script.js"></script>
</body>
</html>